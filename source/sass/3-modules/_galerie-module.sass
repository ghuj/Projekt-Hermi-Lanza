@use "../1-tools/vars"

/************  G A L L E R Y ******************************/


*
  box-sizing: border-box

// Gallery Heading Style
.gallery-heading
  text-align: center
  margin-bottom: 40px
  color: #666
  position: relative
  
  .gallery-title
    font-size: 2.5rem
    font-weight: 300
    color: #666
    position: relative
    display: inline-block
    text-decoration: underline #39CCCC 2px
    text-decoration-style: wavy
    text-underline-offset: 8px
    
    &::after
      content: ''
      position: absolute
      bottom: -8px
      left: 0
      width: 100%
      height: 3px
      border-radius: 2px

#gallery
  max-width: 100%
  width: 100%
  height: auto
  position: relative
  padding: 0% 5% 10% 5%
  background: #f8f9fa
  background-size: cover

.gallery-container
  max-width: 1200px
  margin: 0 auto
  padding: 0 20px

.masonry-gallery
  column-count: 4
  column-gap: 20px
  margin: 0 auto
  
  @media (max-width: 1200px)
    column-count: 3
    
  @media (max-width: 768px)
    column-count: 2
    
  @media (max-width: 480px)
    column-count: 1

.gallery-item
  break-inside: avoid
  margin-bottom: 20px
  border-radius: 12px
  overflow: hidden
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1)
  transition: all 0.3s ease
  cursor: pointer
  background: white
  
  &:hover
    transform: translateY(-5px)
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15)
    
  img
    width: 100%
    height: auto
    display: block
    transition: transform 0.3s ease
    
    &:hover
      transform: scale(1.02)

// Lightbox Styles
.lightbox-modal
  display: none
  position: fixed
  z-index: 9999
  left: 0
  top: 0
  width: 100%
  height: 100%
  background-color: rgba(0, 0, 0, 0.9)
  backdrop-filter: blur(5px)
  
  &.active
    display: flex
    align-items: center
    justify-content: center

.lightbox-content
  position: relative
  max-width: 90%
  max-height: 90%
  display: flex
  flex-direction: column
  align-items: center

.lightbox-image-container
  position: relative
  max-width: 100%
  max-height: 80vh
  overflow: hidden
  border-radius: 8px
  
  img.lightbox-image
    max-width: 100%
    max-height: 80vh
    object-fit: contain
    border-radius: 8px
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3)
    transition: transform 0.3s ease
    cursor: zoom-in
    
    &.zoomed
      cursor: zoom-out
      transform: scale(1.5)

.lightbox-nav
  position: absolute
  top: 50%
  transform: translateY(-50%)
  width: 100%
  display: flex
  justify-content: space-between
  padding: 0 20px
  pointer-events: none
  
  button
    background: rgba(255, 255, 255, 0.9)
    border: none
    border-radius: 50%
    width: 50px
    height: 50px
    font-size: 24px
    cursor: pointer
    transition: all 0.3s ease
    pointer-events: auto
    
    &:hover
      background: white
      transform: scale(1.1)
      
    &.lightbox-prev
      left: 20px
      
    &.lightbox-next
      right: 20px

.lightbox-close
  position: absolute
  top: 20px
  right: 30px
  color: white
  font-size: 40px
  font-weight: bold
  cursor: pointer
  transition: all 0.3s ease
  z-index: 10000
  
  &:hover
    color: #ddd
    transform: scale(1.1)

.lightbox-counter
  position: absolute
  bottom: 20px
  left: 50%
  transform: translateX(-50%)
  color: white
  font-size: 16px
  background: rgba(0, 0, 0, 0.7)
  padding: 10px 20px
  border-radius: 20px
  
  .current
    font-weight: bold
    color: #fff
    
  .total
    color: #ccc

// Loading animation
.gallery-item
  opacity: 0
  animation: fadeInUp 0.6s ease forwards
  position: relative
  
  &::before
    content: ''
    position: absolute
    top: 0
    left: 0
    right: 0
    bottom: 0
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)
    background-size: 200% 100%
    animation: loading 1.5s infinite
    border-radius: 12px
    z-index: -1
  
  &.loaded::before
    display: none
  
  @for $i from 1 through 20
    &:nth-child(#{$i})
      animation-delay: #{$i * 0.1}s

@keyframes fadeInUp
  from
    opacity: 0
    transform: translateY(30px)
  to
    opacity: 1
    transform: translateY(0)

@keyframes loading
  0%
    background-position: 200% 0
  100%
    background-position: -200% 0

// Responsive adjustments
@media (max-width: 768px)
  .lightbox-nav button
    width: 40px
    height: 40px
    font-size: 18px
    
  .lightbox-close
    top: 10px
    right: 20px
    font-size: 30px
    
  .lightbox-counter
    bottom: 10px
    font-size: 14px
    padding: 8px 16px